---
sidebar_position: 2
---

# U3Vカメラについて

コンピューターにストリーム配信を許可するいくつかの種類のウェブカメラがあり、USBまたはEthernetを介して接続できることがあります。前者のタイプの主要なインタフェース標準の1つは**USB3 Vision (U3V)**と呼ばれています。

## カメラインタフェースの種類

カメラインタフェースは、ハードウェアとソフトウェアの2つの側面から定義および分類できます。デバイスの接続と制御はホストマシンによって行われますが、カメラデバイスからストリーミングデータを取得するためのソフトウェアの**トランスポート層**は、ハードウェアの設計に従う必要があります。以下は一部のハードウェアインタフェースのリストです。

* **USB3 Vision**
* GigE Vision
* CoaXPress
* Camera Link
* Camera Link HS

## GenICam

[GenICam（カメラ用のジェネリックインタフェース）](https://www.emva.org/standards-technology/genicam/)は、API、名前規則、トランスポート層、制御プロトコル、およびデータコンテナを定義した汎用的なソフトウェア標準です。

**ジェネリックインタフェース**という名前からもわかるように、このインタフェースはハードウェアの設計に関係なく同じAPIを使用できるようにし、XMLファイル形式のカメラ説明ファイルによってスキーマを有効にします。詳細については、[emva; GenICamページ](https://www.emva.org/standards-technology/genicam/)をご覧ください。

:::tip
カメラデバイス上でGenICamの機能を即座に表示およびアクセスするには、Aravisが提供する**`arv-tool-0.8`**を学習して使用してください。このツールはSensing-Devソフトウェアパッケージに含まれており、[付録ページ](../external/aravis/arv-tools.md)で簡単に紹介されています。
:::

## ペイロードタイプ

U3Vカメラは2つのデータタイプをホストマシンに転送します：ペイロードバッファと情報バッファ。前者は実際のデータ（画像または追加データがある画像など）を含み、後者はデバイスまたはペイロードに関する情報を含みます。たとえば、ペイロードバッファのサイズやペイロードのピクセルフォーマットなどです。

U3Vカメラ1.2は、以下のペイロードタイプをサポートしています。

| ペイロードタイプ | 説明 | Sensing-Devソフトウェアパッケージ | 
| --------   | ------- | ------- |
| 画像 | 圧縮されていない画像データ | サポート | 
| 画像拡張チャンク | 画像拡張チャンクデータをサポート。この場合、画像はペイロードデータ内の最初のチャンクである必要があります。 | サポートされていない | 
| チャンク | 最初のチャンクがどのペイロードタイプからも派生していない一般的なチャンクモード。さまざまなチャンクの組み合わせを転送するために使用されます。 | サポートされていない | 
| GenDCコンテナ | GenDCコンテナ転送モードで使用され、ペイロードデータに完全なGenDCコンテナが含まれています。 | サポート | 
| GenDCコンポーネントデータ | GenDCシリアルフローや並行フロートランスファーモードの両方で使用され、ペイロードデータにはGenDCコンポーネントデータペイロードのみが含まれ、GenDCディスクリプタはリーダーおよび/またはトレーラー内に含まれています | サポートされていない | 

参照: [**USB3 Vision®バージョン1.2**&#128279;](https://www.automate.org/a3-content/usb3-vision-standard)

### 画像

ペイロードタイプ`Image`は、メタデータのないシンプルで非圧縮の画像用です。多くのU3Vカメラは、単に画像データを取得するためにこのシンプルなペイロード転送をサポートしています。

### チャンク/画像拡張チャンク

一部のU3Vカメラは、画像、画像から抽出されたデータ、ピクセルフォーマット、露光時間などのメタデータをチャンク形式で転送します。これらはカメラデバイスによって定義されます。

### GenDCコンテナ {#genicam}

GenDCは[**EMVA**&#128279;](https://www.emva.org/)によって定義されたジェネリックデータコンテナです。**ジェネリック**という名前からもわかるように、データの次元、メタデータ、画像のシーケンス/バーストの種類に関係なく、カメラデバイスによって定義された任意のデータタイプを含めることができます。これにより、異なるタイプのセンサデータを同じコンテナ内に簡単に同期できるようになります。

:::info
Sensing-Devは、コンテナを各コンポーネントデータに分解するための[GenDCセパレータ&#128279;](https://github.com/Sensing-Dev/GenDC)を提供することで、GenDCフォーマットのデータをサポートしています。
:::
